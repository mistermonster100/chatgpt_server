<!DOCTYPE html>
<html>
<head>
    <title>Chat with GPT</title>
    <style>
        .chat-container {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            min-height: 400px; /* Increased height */
        }
        #response {
            margin-top: 20px;
            white-space: pre-wrap;
            border-top: 1px solid #ccc;
            padding-top: 10px;
            min-height: 200px; /* Increased height for the response area */
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <h1>Chat with GPT</h1>
        <input type="text" id="user-input" placeholder="Type a message...">
        <button onclick="sendMessage()">Send</button>
        <div id="response"></div>
    </div>

    <script>
        async function sendMessage() {
            const userInput = document.getElementById('user-input').value;
            const response = await fetch('http://127.0.0.1:5000/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ input: userInput })
            });
            const data = await response.json();
            document.getElementById('response').innerText = data.response;
        }
    </script>

    <script type="text/javascript">
        (function(d, t) {
            var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
            v.onload = function() {
                window.voiceflow.chat.load({
                    verify: { projectID: '6670e45a0b1ecff6da36d391' },
                    url: 'https://general-runtime.voiceflow.com',
                    versionID: 'production'
                }).then((voiceflowInstance) => {
                    // Voiceflow chat widget is loaded and ready to use
                });
            }
            v.src = "https://cdn.voiceflow.com/widget/bundle.mjs";
            v.type = "text/javascript";
            s.parentNode.insertBefore(v, s);
        })(document, 'script');
    </script>
</body>
</html>
